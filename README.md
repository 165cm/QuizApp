# 📚 科学的勉強法クイズアプリ (QuizMaster)

PDFやWebページから自動的にクイズを生成し、科学的勉強法に基づいた効率的な学習をサポートするWebアプリです。

## ✨ 主な機能

### 1. **マルチソース対応クイズ生成**
- 📄 **PDF**: 教科書やテキストをアップロードして自動クイズ生成
- 📝 **テキスト**: コピー&ペーストで直接入力
- 🌐 **URL**: Webページのリンクを入力するだけで自動抽出&生成
- OpenAI GPT-4o-miniを使用して30問の4択クイズを生成

### 2. **🎨 画像付きクイズ生成**
- Google Nano Banana Pro (Imagen 3) による記憶定着をサポートする画像生成
- 各問題にユニークなビジュアルを自動付与
- コスト削減モードで効率的に生成

### 3. **🔐 Googleログイン & クラウド同期**
- Googleアカウントでワンクリックログイン
- Supabaseによるクラウドデータ同期
- 複数デバイスで学習進捗を共有

### 4. **📤 教材シェア機能**
- 作成したクイズを短縮URLで共有
- QRコード生成でスマホからアクセス
- 認定証の発行と共有

### 5. **科学的勉強法の実装**
- **検索練習法**: 間違えた問題を最適なタイミングで復習
- **適応型難易度**: 正解率に応じて3段階の難易度(基礎/標準/応用)を自動調整
- **間隔反復アルゴリズム**: SM-2改良版で記憶の定着を最大化
- **10秒休憩**: 3問ごとに適切な休憩で脳の情報整理をサポート

### 6. **モチベーション維持機能**
- 🔥 学習ストリーク表示(連続学習日数)
- 📊 詳細な進捗管理(総問題数、正解率、復習待ち問題数)
- 📈 学習レポート（興味チャート、苦手ポイント分析）

## 🚀 使い方

### 初回セットアップ

1. **アプリにアクセス**
   - GitHub Pagesでホストされている場合、URLにアクセス
   - またはローカルで `index.html` を開く

2. **Googleログイン（推奨）**
   - 「ログイン」ボタンをクリック
   - Googleアカウントで認証
   - デバイス間で学習データが同期されます

3. **OpenAI APIキーの準備**
   - [OpenAI Platform](https://platform.openai.com/api-keys) でAPIキーを取得
   - 設定画面でAPIキーを入力

### クイズの作成

#### PDFから作成
1. 「教材生成」タブを選択
2. 「PDF」タブをクリック
3. PDFファイルを選択
4. 「クイズを生成」ボタンをクリック

#### テキストから作成
1. 「教材生成」タブを選択
2. 「テキスト」タブをクリック
3. 学習したいテキストを貼り付け
4. 「テキストからクイズを生成」ボタンをクリック

#### URLから作成
1. 「教材生成」タブを選択
2. 「URL」タブをクリック
3. WebページのURLを入力
4. 「URLからクイズを生成」ボタンをクリック

### 学習の流れ

1. **毎日の学習セッション**
   - 「学習開始」タブで出題範囲と問題数を選択
   - 「学習を開始する」ボタンをクリック

2. **問題に回答**
   - 4択から選択
   - 正解/不正解と解説を確認

3. **教材の共有**
   - 教材ライブラリから教材を選択
   - 「📤 シェア」ボタンをクリック
   - URLをコピーまたはQRコードを表示

## 🔧 技術仕様

### 使用技術
- **フロントエンド**: HTML5, CSS3, Vanilla JavaScript (ES Modules)
- **PDF解析**: PDF.js (v3.11.174)
- **AI**: OpenAI GPT-4o-mini
- **画像生成**: Google Nano Banana Pro (Imagen 3)
- **認証・データベース**: Supabase (Auth, Database, Storage)
- **QRコード**: qrcodejs
- **マークダウン**: marked.js
- **圧縮**: LZ-String

### ファイル構成
```
QuizApp/
├── index.html          # メインHTML
├── styles.css          # スタイルシート
├── main.js             # エントリーポイント
├── modules/            # モジュール群
│   ├── api.js          # API通信・クイズ生成
│   ├── auth.js         # 認証（Googleログイン）
│   ├── game.js         # クイズゲームロジック
│   ├── library.js      # 教材ライブラリ管理
│   ├── settings.js     # 設定管理
│   ├── share.js        # 共有機能（URL/QRコード）
│   ├── state.js        # アプリケーション状態管理
│   ├── stats.js        # 統計・レポート
│   ├── storage.js      # ストレージ（Local + Cloud）
│   ├── supabase.js     # Supabase設定
│   ├── ui.js           # UI制御
│   └── ...             # その他のモジュール
├── docs/               # ドキュメント
└── README.md           # このファイル
```

### ブラウザ対応
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

## 💾 データ管理

### ローカルストレージ
- ログインしていない場合、すべてのデータはブラウザのLocalStorageに保存
- ブラウザのキャッシュをクリアするとデータが消えるので注意

### クラウド同期（ログイン時）
- Googleログイン後、データは自動的にSupabaseに同期
- 複数デバイスで同じ学習進捗を共有可能
- ローカルとクラウドのデータは自動マージ

## 📖 科学的勉強法について

このアプリは以下の科学的に証明された学習法を実装しています:

### 検索練習(Retrieval Practice)
最も効果の高い学習法。思い出す行為そのものが記憶を強化します。

### 間隔反復(Spaced Repetition)
- 正解した問題: 復習間隔を徐々に延ばす
- 間違えた問題: 間隔をリセットして頻繁に復習

### 適応型学習
- 正解率80%以上 → 標準・応用問題を中心に出題
- 正解率60-80% → 基礎・標準問題
- 正解率60%未満 → 基礎問題を中心に

## ⚠️ 制約事項

1. **APIキーが必要**: OpenAI APIキーの取得が必要（GPT-4o-miniは低コスト）
2. **処理時間**: 長いPDFの場合、クイズ生成に数分かかることがあります
3. **オフライン非対応**: クイズ生成にはインターネット接続が必要（学習自体はオフライン可）
4. **PDF制限**: 最大300ページまで処理

## 🚀 デプロイ

### GitHub Pages（推奨・無料）
1. GitHubリポジトリの Settings → Pages
2. Source を「GitHub Actions」に設定
3. コミット&プッシュすると自動でデプロイ

## 🔐 プライバシーとセキュリティ

- APIキーはブラウザのLocalStorageに保存されます
- Googleログイン時、認証情報はSupabaseで安全に管理
- 学習データはログイン時のみクラウドに同期され、それ以外は完全にローカル保存

## 📝 今後の改善案

- [ ] 記述問題の追加
- [ ] 複数の教材を統合管理
- [ ] 学習データのエクスポート/インポート機能
- [ ] カテゴリ別の進捗表示
- [ ] スマホアプリ化(PWA対応)
- [ ] 音声読み上げ機能

---

**科学的勉強法で、効率的な学習を!** 📚✨
