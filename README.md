# 📚 科学的勉強法クイズアプリ

PDFから自動的にクイズを生成し、科学的勉強法に基づいた効率的な学習をサポートするWebアプリです。

## ✨ 主な機能

### 1. **PDFから自動クイズ生成**
- 教科書やテキストをアップロードするだけでAIが自動的にクイズを作成
- OpenAI GPT-4o-miniを使用して30問の4択クイズを生成
- 最大300ページ対応

### 2. **科学的勉強法の実装**
- **検索練習法**: 間違えた問題を最適なタイミングで復習
- **適応型難易度**: 正解率に応じて3段階の難易度(基礎/標準/応用)を自動調整
- **間隔反復アルゴリズム**: SM-2改良版で記憶の定着を最大化する復習スケジュール
- **10秒休憩**: 3問ごとに適切な休憩で脳の情報整理をサポート
- **実は間違えた効果**: よくある誤解を選択肢に含めることで正しい知識の定着を促進

### 3. **モチベーション維持機能**
- 🔥 学習ストリーク表示(連続学習日数)
- 📊 詳細な進捗管理(総問題数、正解率、復習待ち問題数)
- 🎉 励ましのフィードバック

### 4. **デュオリンゴ風UI**
- シンプルで直感的なインターフェース
- 1問1画面で集中しやすいデザイン
- ゲーミフィケーション要素

## 🚀 使い方

### 初回セットアップ

1. **ファイルを開く**
   - `index.html` をブラウザで開く

2. **OpenAI APIキーの準備**
   - [OpenAI Platform](https://platform.openai.com/api-keys) でAPIキーを取得
   - 初回のクイズ生成時に入力が求められます

### クイズの作成

1. **PDFをアップロード**
   - 「PDFファイルを選択」ボタンをクリック
   - 教科書やテキスト(PDF形式)を選択

2. **クイズを生成**
   - 「クイズを生成」ボタンをクリック
   - OpenAI APIキーを入力(初回のみ)
   - 数十秒〜数分で30問のクイズが生成されます

### 学習の流れ

1. **毎日の学習セッション**
   - アプリを開くと今日の復習問題と新規問題が自動選択される
   - 1セッション約10問(5〜15分)

2. **問題に回答**
   - 4択から選択
   - 「答えを確認」で正解と解説を表示

3. **進捗確認**
   - ストリーク(連続学習日数)
   - 正解率
   - 復習待ち問題数

## 📖 科学的勉強法について

このアプリは以下の科学的に証明された学習法を実装しています:

### 検索練習(Retrieval Practice)
最も効果の高い学習法。思い出す行為そのものが記憶を強化します。

### 間隔反復(Spaced Repetition)
- 正解した問題: 復習間隔を徐々に延ばす
- 間違えた問題: 間隔をリセットして頻繁に復習

### 適応型学習
- 正解率80%以上 → 標準・応用問題を中心に出題
- 正解率60-80% → 基礎・標準問題
- 正解率60%未満 → 基礎問題を中心に

### 実は間違えた効果
よくある誤解を選択肢に含めることで、正しい知識の定着を促進

### 10秒休憩
3問ごとに10秒の休憩を挟むことで、脳が情報を整理し記憶の定着を促進

## 🔧 技術仕様

### 使用技術
- **フロントエンド**: HTML5, CSS3, Vanilla JavaScript
- **PDF解析**: PDF.js (v3.11.174)
- **AI**: OpenAI GPT-4o-mini
- **データ保存**: LocalStorage

### ファイル構成
```
QuizApp/
├── index.html      # メインHTML
├── styles.css      # スタイルシート
├── app.js          # アプリケーションロジック
└── README.md       # このファイル
```

### ブラウザ対応
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

## 💡 Tips

### 効果的な使い方
1. **毎日続ける**: ストリークを途切れさせないように毎日少しずつ
2. **間違いを恐れない**: 間違えた問題こそ学習のチャンス
3. **解説を読む**: 正解・不正解に関わらず解説をしっかり理解
4. **復習を優先**: 復習待ち問題は記憶が薄れる前に必ず確認

### データ管理
- すべてのデータはブラウザのLocalStorageに保存されます
- データをバックアップしたい場合は、ブラウザの開発者ツールからLocalStorageをエクスポート
- ブラウザのキャッシュをクリアするとデータが消えるので注意

## 📱 画面構成

### 1. ホーム画面
- ストリーク表示
- 統計カード(総問題数、正解率、復習待ち)
- PDFアップロード
- 今日の学習を始めるボタン

### 2. 生成中画面
- プログレスバー
- 生成状況の表示

### 3. クイズ画面
- 問題番号とプログレスバー
- 難易度バッジ
- 質問と選択肢
- フィードバック(正解/不正解、解説)

### 4. 休憩画面
- 10秒カウントダウン
- リラックスメッセージ

### 5. 結果画面
- セッション統計
- 励ましメッセージ
- 続けるorホームへ

## ⚠️ 制約事項

1. **APIキーが必要**: OpenAI APIキーの取得と使用料が必要(GPT-4o-miniは低コスト)
2. **処理時間**: 長いPDFの場合、クイズ生成に数分かかることがあります
3. **オフライン非対応**: クイズ生成にはインターネット接続が必要(学習自体はオフライン可)
4. **データの永続性**: ブラウザのLocalStorageに依存(サーバー保存なし)
5. **PDF制限**: 最大300ページまで処理

## 🎓 学習アルゴリズムの詳細

### 間隔反復アルゴリズム (SM-2改良版)

このアプリは、Anki等で使用されているSM-2アルゴリズムの改良版を実装しています:

1. **初回正解**: 1日後に復習
2. **2回目正解**: 前回の間隔 × 難易度係数(2.5〜)日後に復習
3. **不正解**: 間隔をリセットし、難易度係数を下げる

### 適応型出題システム

ユーザーの正解率に基づいて出題する難易度を動的に調整:

- **正解率 80%以上**: 応用60% + 標準30% + 基礎10%
- **正解率 60-80%**: 標準60% + 基礎20% + 応用20%
- **正解率 60%未満**: 基礎70% + 標準20% + 応用10%

### 1セッションの構成

- 復習問題: 最大5問(復習期限が来ている問題)
- 新規問題: 最大5問(ユーザーレベルに応じた難易度)
- 合計: 約10問(5〜15分)

## 📝 今後の改善案

- [ ] 記述問題の追加
- [ ] 複数の教材を統合管理
- [ ] 学習データのエクスポート/インポート機能
- [ ] カテゴリ別の進捗表示
- [ ] 間違えた問題の類似問題を自動生成
- [ ] スマホアプリ化(PWA対応)
- [ ] 複数人での学習データ共有
- [ ] 音声読み上げ機能

## 🔐 プライバシーとセキュリティ

- APIキーはブラウザのLocalStorageに保存されます(暗号化なし)
- アップロードされたPDFはOpenAI APIに送信されますが、OpenAIの[データ使用ポリシー](https://openai.com/policies/usage-policies)に従って処理されます
- 学習データは完全にローカルに保存され、外部サーバーには送信されません

## 🤝 サポート

質問や不具合報告があれば、お気軽にお問い合わせください。

---

**科学的勉強法で、効率的な学習を!** 📚✨
